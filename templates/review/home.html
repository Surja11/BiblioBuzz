
{% extends "base.html" %}
{%load static%}

{% block title %}Home{% endblock title %}
{% block body %}

<div class="container-fluid" style="height : 300px; width: 100%; margin:0px; padding: 0px" >

    <img src="media/media/review/images/landing.webp" alt="img" style="height: 100%; width:100%; object-fit: cover; padding:0; "  >
</div>

<h1 class="text-center mt-3" style="color: #fafbf9;">Trending</h1>

<div class="container mt-4 rounded" style="background-color: #948979;">
  <div id="trendingCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      {% for book in trending %}
        {% if forloop.counter0|divisibleby:4 %}
          <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <div class="row justify-content-center">
        {% endif %}

              <div class="col-md-3" >
                <div class="card h-100 mb-3 hover-effect">
                  <div class="card-body d-flex flex-column justify-content-center align-items-center ">
                    <span class="card-title text-center">{{ book.book_name }}</span>
                    <img src="{{ book.book_img.url }}" alt="{{ book.book_name }}"
                         class="img-fluid mt-2"
                         style="max-height: 200px; max-width: 180px; object-fit: contain;">
                    <a class="btn mt-2"
                       style="background-color: #393E46; color: #DFD0B8"
                       href="{% url 'reviewPage' book.id %}">Review</a>
                  </div>
                </div>
              </div>

        {% if forloop.counter|divisibleby:4 or forloop.last %}
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>

    
    <button class="carousel-control-prev" type="button" data-bs-target="#trendingCarousel" data-bs-slide="prev" style="left:-50px;">
      <span class="carousel-control-prev-icon" aria-hidden="true" style="filter: invert(1);  "></span>
      <span class="visually-hidden">Previous</span>
    </button>

    <button class="carousel-control-next" type="button" data-bs-target="#trendingCarousel" data-bs-slide="next" style = "right: -50px;">
      <span class="carousel-control-next-icon" aria-hidden="true" style="filter: invert(1);"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</div>

<h1 class="text-center mt-3" style="color: #fafbf9;">Recently Added</h1>

<div class="container mt-4 rounded" style="background-color: #948979;">
  <div id="recentCarousel" class="carousel slide" data-bs-ride="false">
    <div class="carousel-inner">
      {% for book in recently_added %}
        {% if forloop.counter0|divisibleby:4 %}
          <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <div class="row justify-content-center">
        {% endif %}

              <div class="col-md-3">
                <div class="card h-100 mb-3 hover-effect" style="background-color: rgba(223, 206, 179, 0.27);">
                  <div class="card-body d-flex flex-column justify-content-center align-items-center">
                    <span class="card-title text-center">{{ book.book_name }}</span>
                    <img src="{{ book.book_img.url }}" alt="{{ book.book_name }}"
                         class="img-fluid mt-2"
                         style="max-height: 200px; max-width: 180px; object-fit: contain;">
                    <a class="btn mt-2"
                       style="background-color: #393E46; color: #DFD0B8"
                       href="{% url 'reviewPage' book.id %}">Review</a>
                  </div>
                </div>
              </div>

        {% if forloop.counter|divisibleby:4 or forloop.last %}
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>

    
    <button class="carousel-control-prev" type="button" data-bs-target="#recentCarousel" data-bs-slide="prev" style="left:-50px;">
      <span class="carousel-control-prev-icon" aria-hidden="true" style="filter: invert(1);  "></span>
      <span class="visually-hidden">Previous</span>
    </button>

    <button class="carousel-control-next" type="button" data-bs-target="#recentCarousel" data-bs-slide="next" style = "right: -50px;">
      <span class="carousel-control-next-icon" aria-hidden="true" style="filter: invert(1);"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</div>


<h1 class="text-center mt-3" style="color: #fafbf9;">Most Popular</h1>

<div class="container mt-4 rounded" style="background-color: #948979;">
  <div id="popularCarousel" class="carousel slide" data-bs-ride="false">
    <div class="carousel-inner">
      {% for book in most_popular %}
        {% if forloop.counter0|divisibleby:4 %}
          <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <div class="row justify-content-center">
        {% endif %}

              <div class="col-md-3">
                <div class="card h-100 mb-3 hover-effect" style="background-color: rgba(223, 206, 179, 0.27);">
                  <div class="card-body d-flex flex-column justify-content-center align-items-center">
                    <span class="card-title text-center">{{ book.book_name }}</span>
                    <img src="{{ book.book_img.url }}" alt="{{ book.book_name }}"
                         class="img-fluid mt-2"
                         style="max-height: 200px; max-width: 180px; object-fit: contain;">
                    <a class="btn mt-2"
                       style="background-color: #393E46; color: #DFD0B8"
                       href="{% url 'reviewPage' book.id %}">Review</a>
                  </div>
                </div>
              </div>

        {% if forloop.counter|divisibleby:4 or forloop.last %}
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>

    
    <button class="carousel-control-prev" type="button" data-bs-target="#popularCarousel" data-bs-slide="prev" style="left:-50px;">
      <span class="carousel-control-prev-icon" aria-hidden="true" style="filter: invert(1);  "></span>
      <span class="visually-hidden">Previous</span>
    </button>

    <button class="carousel-control-next" type="button" data-bs-target="#popularCarousel" data-bs-slide="next" style = "right: -50px;">
      <span class="carousel-control-next-icon" aria-hidden="true" style="filter: invert(1);"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</div>


{% endblock body %}